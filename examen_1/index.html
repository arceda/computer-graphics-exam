<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="jquery-3.4.1.min.js"></script> 
</head>
<style></style>



<body>



<center>

<h1> Primer examen de Computación Gráfica</h1>
<h3> CUI: <input id = "input_cui"> </input> </h3>
<h3> <font color='red'>No utilice instrucciones GUI como cv2.imshow(), plt.show(), etc.</font> </h3>
<table width="800">

<!-- 
##########################################################################################################
########################### PREGUNTA 1 ###################################################################
##########################################################################################################
-->
<tr>
    <td colspan="2"> <strong>Pregunta 1</strong> <br>  Mejore el contraste de la imagen a continuación. Utilice el operador adecuado según su criterio. 
    </td>
</tr>

<tr>
    <td width="50%"> 
        Entrada: <br>      
        <img src="img/question_1.png" width="300" height="200">  </img>
        <br> <br>
        Resultado deseado:
        <img src="img/sol_question_1.png" width="300" height="200">  </img>
        <br> <br>

        <button id = "button_question_1">Enviar</button>

        <br><br>
        <div id='response_question_1'></div>
    
    </td>
    <td width="50%"> <textarea id="text_question_1" rows="30" cols="60"> 
import cv2
import numpy as np
import matplotlib as plt

img = cv2.imread("question_1.png")

#########  write your code here ##################

img_out = img









######## the result have to be set in img_out ####
######## not modify from here ####################

cv2.imwrite("question_1_sol.png", img_out)
    </textarea></td>
</tr>  


<!-- 
##########################################################################################################
########################### PREGUNTA 2 ###################################################################
##########################################################################################################
-->

<tr>
    <td colspan="2"> <strong>Pregunta 2</strong> <br>  En la siguiente imagen se muestra algunas celulas, diseñe un programa que segmente dichas células. 
    </td>
</tr>

<tr>
    <td width="50%"> 
        Entrada: <br>    
        <img src="img/question_2.png" width="300" height="200">  </img>
        <br> <br>
        Resultado deseado:
        <img src="img/sol_question_2.png" width="300" height="200">  </img>
        <br> <br>

        <button id = "button_question_2">Enviar</button>

        <br><br>
        <div id='response_question_2'></div>
    
    </td>
    <td width="50%"> <textarea id="text_question_2" rows="30" cols="60"> 
import cv2
import numpy as np
import matplotlib as plt

img = cv2.imread("question_2.png")

#########  write your code here ##################

img_out = img









######## the result have to be set in img_out ####
######## not modify from here ####################

cv2.imwrite("question_2_sol.png", img_out)
    </textarea></td>
</tr>  
    

<!-- 
##########################################################################################################
########################### PREGUNTA 3 ###################################################################
##########################################################################################################
-->

<tr>
    <td colspan="2"> <strong>Pregunta 3</strong> <br>  Thresholding es un método normalmente utilizado para la segmentación de objetos, pero existen casos 
         donde este método no funciona adecuadamente, como es el caso de la imagen de abajo. Debido a esto es 
         necesario aplicar un threshold adatativo, donde por cada pixel se tomará un threshold diferente. 
         Este Threshold es igual al promedio de las intensidades de los pixeles 
         vecinos menos una constante C. Implemente dicho operador, usted decide cuantos vecinos tomar y el valor de C.
    </td>
</tr>

<tr>
    <td width="50%"> 
        Entrada: <br>    
        <img src="img/question_3.png" width="300" height="200">  </img>
        <br> <br>
        Resultado deseado:
        <img src="img/sol_question_3.png" width="300" height="200">  </img>
        <br> <br>

        <button id = "button_question_3">Enviar</button>

        <br><br>
        <div id='response_question_3'></div>
    
    </td>
    <td width="50%"> <textarea id="text_question_3" rows="30" cols="60"> 
import cv2
import numpy as np
import matplotlib as plt

img = cv2.imread("question_3.png")

#########  write your code here ##################

img_out = img









######## the result have to be set in img_out ####
######## not modify from here ####################

cv2.imwrite("question_3_sol.png", img_out)
    </textarea></td>
</tr>  

    
</table>







</center>

<script> 
    var server = "http://localhost/computer-graphics-exam/examen_1/main.php"
    //AJAX con JSON

    
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////// PREGUNTA 1 ///////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////

    $("#button_question_1" ).click(function() {
        if ( $('#input_cui').val().trim() == "" )  $('#response_question_1').html("<font color='red'>INGRESE SU CUI!!!</font>");
        else {
            var formData = new FormData();
            formData.append('cui', $('#input_cui').val());
            formData.append('question', 'question_1');
            formData.append('code', $('#text_question_1').val());

            $.ajax({
                    url: server,
                    type: 'POST',
                    data : formData,
                    dataType: 'json',     //the server return json
                    processData: false,  // tell jQuery not to process the data
                    contentType: false,  // tell jQuery not to set contentType
                    success : function(data) {  
                        console.log(data); 
                        var code = data.code_result;   
                        var msg = data.message;
                        if (code == 1)
                            $('#response_question_1').html("<font color='blue'>"  +msg  + "</font>");
                        else
                            $('#response_question_1').html("<font color='red'>"  +msg  + "</font>");

                        
                    }                
            });
        }
    });
    

    ////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////// PREGUNTA 2 ///////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    $("#button_question_2" ).click(function() {
        if ( $('#input_cui').val().trim() == "" )  $('#response_question_2').html("<font color='red'>INGRESE SU CUI!!!</font>");
        else {
            var formData = new FormData();
            formData.append('cui', $('#input_cui').val());
            formData.append('question', 'question_2');
            formData.append('code', $('#text_question_2').val());

            $.ajax({
                    url: server,
                    type: 'POST',
                    data : formData,
                    dataType: 'json',     //the server return json
                    processData: false,  // tell jQuery not to process the data
                    contentType: false,  // tell jQuery not to set contentType
                    success : function(data) {  
                        console.log(data); 
                        var code = data.code_result;   
                        var msg = data.message;
                        if (code == 1)
                            $('#response_question_2').html("<font color='blue'>"  +msg  + "</font>");
                        else
                        $('#response_question_2').html("<font color='red'>"  +msg  + "</font>");
                    }                
            });
        }
    });


    ////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////// PREGUNTA 3 ///////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////
    $("#button_question_3" ).click(function() {
        if ( $('#input_cui').val().trim() == "" )  $('#response_question_3').html("<font color='red'>INGRESE SU CUI!!!</font>");
        else {
            var formData = new FormData();
            formData.append('cui', $('#input_cui').val());
            formData.append('question', 'question_3');
            formData.append('code', $('#text_question_3').val());

            $.ajax({
                    url: server,
                    type: 'POST',
                    data : formData,
                    dataType: 'json',     //the server return json
                    processData: false,  // tell jQuery not to process the data
                    contentType: false,  // tell jQuery not to set contentType
                    success : function(data) {  
                        console.log(data); 
                        var code = data.code_result;   
                        var msg = data.message;
                        if (code == 1)
                            $('#response_question_3').html("<font color='blue'>"  +msg  + "</font>");
                        else
                        $('#response_question_3').html("<font color='red'>"  +msg  + "</font>");
                    }                
            });
        }
    });


    

</script>
</body>

</html>